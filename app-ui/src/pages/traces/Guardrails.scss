@import "../../Colors.scss";

.guardrails {
  margin-top: 20px !important;
  margin: auto;
  border-radius: 5pt;
  padding: 10pt;
  margin-bottom: 20pt;

  h3 {
    font-size: 12pt;
    font-weight: bold;
    font-family:
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      Roboto,
      Oxygen,
      Ubuntu,
      Cantarell,
      "Open Sans",
      "Helvetica Neue",
      sans-serif;

    display: flex;
    flex-direction: row;
    justify-content: space-between;
    line-height: 20pt;
    margin-right: -7pt;

    .secondary {
      font-weight: 500;
      margin-left: 5pt;
      line-height: 20pt;
      font-size: 10pt;
    }
  }

  .list {
    display: flex;
    flex-wrap: wrap;
  }

  .box {
    max-width: 320pt;

    .badge {
      font-size: 8pt;
      background-color: #f5f5f5;
      position: relative;
      top: 0pt;
      right: 5pt;
      border-radius: 10pt;

      font-size: 8pt;
      padding: 0pt 10pt;
      font-family:
        system-ui,
        -apple-system,
        BlinkMacSystemFont,
        "Segoe UI",
        Roboto,
        Oxygen,
        Ubuntu,
        Cantarell,
        "Open Sans",
        "Helvetica Neue",
        sans-serif;
    }

    .badge.live {
      background-color: #f5f5f5;
      color: white;
      text-transform: uppercase;
      position: relative;
      background-color: red;
      border-radius: 10pt;

      animation: pulse-color 2s infinite;
    }

    h2 {
      justify-content: flex-start;

      svg {
        position: relative;
        top: 4pt;
        margin-right: 3pt;
      }
    }

    .policy {
      background-color: #f5f5f5;
      overflow-x: auto;
      border-radius: 5pt;
      margin-top: 15pt;
      border: 1pt solid #e0e0e0;

      // hide scroll bar
      ::-webkit-scrollbar {
        display: none !important;
      }
      // in all browsers
      -ms-overflow-style: none;
      scrollbar-width: none;

      overflow: auto;
      margin-bottom: 10pt;
    }

    i {
      font-size: 10pt;
      opacity: 0.5;
      font-weight: 500;
      font-style: italic !important;
      font-family:
        system-ui,
        -apple-system,
        BlinkMacSystemFont,
        "Segoe UI",
        Roboto,
        Oxygen,
        Ubuntu,
        Cantarell,
        "Open Sans",
        "Helvetica Neue",
        sans-serif;

      white-space: nowrap;
      text-overflow: ellipsis;
    }

    .actions {
      display: flex;
      flex-direction: row;
      justify-content: flex-end;

      button.inline {
        border-radius: 4pt;

        &:last-of-type {
          margin-right: 0pt;
        }
      }
    }
  }
}

.sidepane {
  position: fixed;
  position: -webkit-sticky;
  position: fixed;
  top: 75.5pt;
  left: 0pt;
  bottom: 0pt;
  background-color: rgba(0, 0, 0, 0);
  right: 0pt;
  z-index: 1000;
  animation: slide-in 0.1s ease-in-out;
  animation-fill-mode: forwards;

  .sidepane-content {
    position: absolute;
    right: 0pt;
    border-left: 1pt solid #c7c7c7;

    width: calc(max(70%, 70vw));
    background-color: $color-secondary-background;
    padding-top: 0pt;
    height: calc(100vh - 75pt);
    animation: slide-in-content 0.1s ease-in-out;
  }

  .policy-editor {
    border-top: 1pt solid #e0e0e0;
    border-bottom: 1pt solid #e0e0e0;
    margin-bottom: 10pt;
    height: 300pt;

    .policy {
      height: 300pt;
    }
  }

  header.sidep {
    position: static;
    top: 0pt;
    width: 100%;
    background-color: $color-secondary-background;
    height: 50pt;
    padding-left: 5pt;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: flex-start !important;
    padding-top: 5pt;

    button.test {
      position: absolute;
      top: 315pt;
    }

    button.close {
      border: none;
      background-color: transparent;
      width: 34pt;
      height: 34pt;
      text-overflow: clip;

      &:hover {
        background-color: rgb(236, 236, 236);
      }
    }

    button {
      border-radius: 4pt;
      height: 30pt;
      margin-top: 5pt;

      &:last-of-type {
        margin-right: 10pt;
      }
    }

    h1 {
      font-size: 12pt !important;
    }

    .guardrail-editor {
      flex: 1;
      padding-right: 10pt;

      .box {
        background-color: transparent;
        border: none;
        padding: 0pt;
        margin: 0pt;
        height: 120pt;
        overflow: hidden;

        h2 {
          margin-top: 3pt;

          input {
            width: 100%;
            border: none;
            background-color: transparent;
            font-size: 12pt;
            font-weight: bold;
            font-family:
              system-ui,
              -apple-system,
              BlinkMacSystemFont,
              "Segoe UI",
              Roboto,
              Oxygen,
              Ubuntu,
              Cantarell,
              "Open Sans",
              "Helvetica Neue",
              sans-serif;

            outline: none;
          }
        }

        i {
          font-size: 10pt;
          opacity: 0.5;
          font-weight: 500;
          font-style: italic !important;
          font-family:
            system-ui,
            -apple-system,
            BlinkMacSystemFont,
            "Segoe UI",
            Roboto,
            Oxygen,
            Ubuntu,
            Cantarell,
            "Open Sans",
            "Helvetica Neue",
            sans-serif;

          white-space: nowrap;
          text-overflow: ellipsis;

          input {
            width: 100%;
            border: none;
            background-color: transparent;
            font-size: 10pt;
            font-weight: 500;
            font-style: italic !important;

            outline: none;
          }
        }
      }
    }
  }

  .traces-container {
    position: relative;
    height: calc(100% - 327pt);
    margin-top: -40pt;

    .panel {
      height: 100%;
    }

    .sidebyside {
      height: 100%;
    }

    .explorer {
      height: 100%;
    }

    .panel .sidebyside .sidebar {
      height: calc(100% - 47.5pt);
      overflow-x: hidden;
    }

    .panel .sidebyside .explorer.panel.traceview {
      height: calc(100% - 41pt) !important;
    }

    .empty {
      color: #999;
      font-size: 12pt;
      position: relative;
      top: -100pt;
      display: flex;
      flex-direction: row;

      button.test {
        display: inline-block;
        margin-left: 5pt;
        margin-right: 5pt;
      }
    }
  }
}

@keyframes slide-in {
  from {
    background-color: rgba(0, 0, 0, 0);
  }
  to {
    background-color: rgba(0, 0, 0, 0.174);
  }
}

@keyframes pulse-color {
  0% {
    color: rgb(251, 151, 151);
  }
  50% {
    color: #f5f5f5;
  }
  100% {
    color: rgb(251, 151, 151);
  }
}

@keyframes pulse-background {
  0% {
    background-color: rgb(251, 151, 151);
  }
  50% {
    background-color: #f5f5f5;
  }
  100% {
    background-color: rgb(251, 151, 151);
  }
}

@keyframes slide-in-content {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0%);
  }
}

